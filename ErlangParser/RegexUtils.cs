using System.Text.RegularExpressions;
namespace ErlangParserLib
{
    public static class RegexUtils
    {
        /// <summary>
        /// Erlang元素
        /// </summary>
        public static Regex regElement = new Regex(
            //---------------------------------------
            // 空白行
            //---------------------------------------
            @"(^(\s*)?\n)|" +

            //---------------------------------------
            // 行注释
            //---------------------------------------
            @"(^\s*%.*\n)|" +

            //----------------------------------------
            // 声明
            //----------------------------------------
            @"^-(.*)\(((.|\n)*?)\)\.\n?|" +

            //----------------------------------------
            // 函数
            //----------------------------------------
            @"(" +
                //函数头: "函数名(参数列表)->"
                @"(" +
                    @"([_a-zA-Z0-9]+)(%.*\n)*?" +        //函数名
                    @"\(" +
                        @"\s*" +
                        @"((.|\n)*?)" +             //参数列表
                        @"\s*" +
                    @"\)" +
                    @"\s*" +
                    @"(->)" +                           //"->"
                @")" +
                @"\s*" +
                //函数体:
                @"(.+?[\n|,|;])*?" +
                "[;|.]" +
            @")*",
            RegexOptions.Multiline
        );
    }
}
